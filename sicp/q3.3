(define (make-account password balance)
    (define (withdraw p n)
        (cond ((not (eq? p password)) (error "incorrect password"))
              ((< n balance) (begin (set! balance (- balance n)) balance))
              (else "insufficient funs")
        )
    )
    (define (deposit p n)
        (if (eq? p password)
            (begin (set! balance (+ balance n)) balance)
            "incorrect password"
        )
    )
    (define (dispatch method)
        (cond ((eq? method 'withdraw) withdraw)
              ((eq? method 'deposit) deposit)
        )
    )
    dispatch
)

(define account (make-account 'abc 100))
((account 'withdraw) 'abc 10)
((account 'deposit) 'abc 200)
